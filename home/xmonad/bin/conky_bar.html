<div id=container>
    
    <table cellspacing=0 cellpadding=0>
    <thead>
      <tr>
        <th class=docs><h1>conky_bar</h1></th>
        <th class=code></th>
      </tr>
    </thead>
    <tbody>
        <tr><td class='docs'><p>The <strong><code>home/xmonad/bin/conky_bar</code></strong> file contains the definition of the
conky information that will be piped to the dzen bar that is drawn at the
top right of the screen.</p>

</td><td class=code><div class=highlight><pre>
<span class="c">#!/usr/bin/conky</span>

</pre></div></td></tr><tr><td class=docs>

<h2>Configuration</h2>

</td><td class=code><div class=highlight><pre>

</pre></div></td></tr><tr><td class=docs>

<p>The <code>background</code> variable forces conky to daemonize itself to the background
once it's launched.</p>

</td><td class=code><div class=highlight><pre>
background yes

</pre></div></td></tr><tr><td class=docs>

<p>The <code>double_buffer</code> variable asks conky to use the Xdbe extension to reduce
flicker. This probably isn't required anymore.</p>

</td><td class=code><div class=highlight><pre>
double_buffer yes 

</pre></div></td></tr><tr><td class=docs>

<p><code>out_to_console</code> simply tells conky to print to stdout, which is necessary here
because we are piping the output to dzen.</p>

</td><td class=code><div class=highlight><pre>
out_to_console yes 

</pre></div></td></tr><tr><td class=docs>

<p><code>own_window</code> tells conky to draw its own window.</p>

</td><td class=code><div class=highlight><pre>
own_window yes

</pre></div></td></tr><tr><td class=docs>

<p><code>own_window_type</code> tells conky to draw the window in such a way as to always be
visible at the lowest layer (i.e. the desktop) and to not use any window
decorations. This option combined with the XMonad struts layout option
provide the appearance of a standard panel/taskbar.</p>

</td><td class=code><div class=highlight><pre>
own_window_type desktop

</pre></div></td></tr><tr><td class=docs>

<p><code>update_interval</code> is how frequently in seconds conky should re-output the content.</p>

</td><td class=code><div class=highlight><pre>
update_interval 1

</pre></div></td></tr><tr><td class=docs>

<p><code>font</code> is self-explanatory. One can use xfontsel to pick a font.</p>

</td><td class=code><div class=highlight><pre>
font -*-clean-*-*-*-*-12-*-*-*-*-*-iso8859-*

</pre></div></td></tr><tr><td class=docs>

<p><code>alignment</code> indicates the vertical and horizontal alignment of the text. <code>mr</code>
indicates vertically centered and horizontally right-aligned.</p>

</td><td class=code><div class=highlight><pre>
alignment mr

</pre></div></td></tr><tr><td class=docs>

<h2>Contents</h2>

</td><td class=code><div class=highlight><pre>

</pre></div></td></tr><tr><td class=docs>

<p>The following are commented on all at once because conky does not allow
unprinted comments after the <code>TEXT</code> declaration.</p>

<p>The <code>TEXT</code> declaration begins the contents of what actually prints to the
screen. Newlines are preserved, so all lines here end with a backslash to
draw on one line while maintaining the readability of this file.</p>

<p>There are four pieces of information displayed, each separated by a pipe ("|"):
the CPU load, the percent of memory in use (less buffer), the current CPU 
temperature, and a battery percentage indicator with either a charging or
discharging icon.</p>

</td><td class=code><div class=highlight><pre>
TEXT
<span class="nv">$alignr</span>
^fg<span class="o">(</span>green<span class="o">)</span>^i<span class="o">(</span><span class="nv">$HOME</span>/.xmonad/icons/cpu.xbm<span class="o">)</span> <span class="se">\</span>
^fg<span class="o">(</span>white<span class="o">)</span><span class="k">${</span><span class="nv">loadavg</span><span class="p"> 1</span><span class="k">}</span> | <span class="se">\</span>
^fg<span class="o">(</span>green<span class="o">)</span>^i<span class="o">(</span><span class="nv">$HOME</span>/.xmonad/icons/mem.xbm<span class="o">)</span> <span class="se">\</span>
^fg<span class="o">(</span>white<span class="o">)</span><span class="nv">$memperc</span>% | <span class="se">\</span>
^fg<span class="o">(</span>green<span class="o">)</span>^i<span class="o">(</span><span class="nv">$HOME</span>/.xmonad/icons/temp.xbm<span class="o">)</span> <span class="se">\</span>
^fg<span class="o">(</span>white<span class="o">)</span><span class="k">${</span><span class="nv">execi</span><span class="p"> 60 sensors -A | grep temp1 | awk </span><span class="s1">&#39;{print $2}&#39;</span><span class="p"> | sed </span><span class="s1">&#39;s/+//&#39;</span><span class="p"> | sed </span><span class="s1">&#39;s/C//&#39;</span><span class="k">}</span> | <span class="se">\</span>
<span class="k">${</span><span class="nv">if_existing</span><span class="p"> /proc/acpi/ac_adapter/ADP1/state off-line</span><span class="k">}</span><span class="se">\</span>
^fg<span class="o">(</span>green<span class="o">)</span>^i<span class="o">(</span><span class="nv">$HOME</span>/.xmonad/icons/bat_empty_01.xbm<span class="o">)</span> <span class="se">\</span>
^fg<span class="o">(</span>white<span class="o">)</span><span class="k">${</span><span class="nv">battery_percent</span><span class="p"> BAT0</span><span class="k">}</span>% <span class="se">\</span>
^fg<span class="o">(</span>white<span class="o">)(</span><span class="k">${</span><span class="nv">battery_time</span><span class="p"> BAT0</span><span class="k">}</span><span class="o">)</span> <span class="se">\</span>
<span class="k">${</span><span class="nv">if_match</span><span class="p"> </span><span class="k">${</span><span class="nv">battery_percent</span><span class="p"> BAT0</span><span class="k">}</span><span class="p"> &lt; 20</span><span class="k">}</span>^fg<span class="o">(</span>red<span class="o">)</span>LOW BATTERY<span class="nv">$endif</span> <span class="se">\</span>
<span class="nv">$else</span><span class="se">\</span>
^fg<span class="o">(</span>green<span class="o">)</span>^i<span class="o">(</span><span class="nv">$HOME</span>/.xmonad/icons/power-ac.xbm<span class="o">)</span> <span class="se">\</span>
^fg<span class="o">(</span>white<span class="o">)</span><span class="k">${</span><span class="nv">battery_percent</span><span class="p"> BAT0</span><span class="k">}</span>% <span class="se">\</span>
<span class="nv">$endif</span>


</pre></div></td></tr><tr><td class=docs>

</td><td class=code><div class=highlight><pre>

</pre></div></td></tr><tr><td class=docs></td><td class='code'></td></tr>
    </tbody>
    </table>
</div>


